import useEmblaCarousel from "embla-carousel-react";
import { Icon } from "~/components/ui/shared/Icon";
import { Image } from "~/components/ui/shared/Image";
import "./testimonial.css";
import {
	NextButton,
	PrevButton,
	usePrevNextButtons,
} from "./TestimonialArrows";
import { DotButton, useDotButton } from "./TestimonialDotButton";

const testimonials = [
	{
		id: 1,
		name: "Ð¡Ñ‚ÐµÐ¿Ð°Ð½Ð¾Ð²Ð° ÐÐ»Ñ‘Ð½Ð°",
		content:
			"Ð’ Ð¿Ð¾Ð¸ÑÐºÐ°Ñ… ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð½Ð°Ð¿Ð¾Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ñ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ð»Ð°ÑÑŒ Ð² Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½ Beauty Floor â€” Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð»ÑÑ ÐºÑ€Ð°ÑÐ¸Ð²Ñ‹Ð¹, ÐºÑ€ÐµÐ¿ÐºÐ¸Ð¹, Ð½ÐµÑˆÑƒÐ¼Ð½Ñ‹Ð¹ Ð¸ Ñ‚ÐµÐ¿Ð»Ñ‹Ð¹ Ð¿Ð¾Ð» Ð´Ð»Ñ ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñ‹ Ð² Ð½Ð¾Ð²Ð¾ÑÑ‚Ñ€Ð¾Ð¹ÐºÐµ. ÐŸÑ€Ð¸Ñ…Ð¾Ð´Ð¸Ð»Ð° Ð² ÑÐ°Ð»Ð¾Ð½ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ€Ð°Ð· â€” ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ»Ð°, Ð²Ñ‹Ð±Ð¸Ñ€Ð°Ð»Ð°, ÑÐ¾Ð²ÐµÑ‚Ð¾Ð²Ð°Ð»Ð°ÑÑŒ. Ð’Ñ‹Ð±Ñ€Ð°Ð»Ð° Ð¿Ñ€Ð¾Ð±ÐºÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð» Egger Ñ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¼ ÑÐ¾Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÐµÐ¼ Ñ†ÐµÐ½Ñ‹ Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð°. Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ°Ð¼ ÑÐ°Ð»Ð¾Ð½Ð° â€” Ð´Ð°Ð»Ð¸ Ð¿Ð¾Ñ†Ð°Ñ€Ð°Ð¿Ð°Ñ‚ÑŒ Ð½Ð¾Ð³Ñ‚ÐµÐ¼, Ð¿Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ, Ð¿Ð¾Ð¿Ñ€Ñ‹Ð³Ð°Ñ‚ÑŒ Ð¸ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð²ÑÑÑ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð²Ð¾Ð·Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° Ð¾Ð±Ñ€Ð°Ð·Ñ†Ñ‹)) Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð½Ð°Ð½Ð¸Ðµ ÑÐ²Ð¾ÐµÐ³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°, Ð¾Ñ‡ÐµÐ½ÑŒ Ð²ÐµÐ¶Ð»Ð¸Ð²Ð¾Ðµ Ð¸ Ð¿Ñ€Ð¸Ð²ÐµÑ‚Ð»Ð¸Ð²Ð¾Ðµ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ðµ Ðº ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°Ð¼ â€” ÑÑ‚Ð¾ Ñ€ÐµÐ´ÐºÐ¾ Ð¸ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ñ€Ð¸ÑÑ‚Ð½Ð¾) Ð”Ð¾ÑÑ‚Ð°Ð²ÐºÐ° Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ñ ÑÐ¾ ÑÐºÐ»Ð°Ð´Ð° Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ð³Ð¾Ñ€Ð¾Ð´Ðµ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ñ‚Ñ€ÐµÑ… Ð½ÐµÐ´ÐµÐ»ÑŒ, Ð° Ð´Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐµÐµ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½Ð° ÑÐºÐ»Ð°Ð´Ðµ Ð²Ð¾ Ð’Ð»Ð°Ð´Ð¸Ð²Ð¾ÑÑ‚Ð¾ÐºÐµ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾, Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð´ÑƒÐ¼Ð°Ñ‚ÑŒ Ð½Ð°Ð´ Ñ‚ÐµÐ¼, ÐºÑƒÐ´Ð° Ð²ÑÐµ ÑÑ‚Ð¸ ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸ ÑÐ»Ð¾Ð¶Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð». Ð’ ÑÐ°Ð»Ð¾Ð½Ðµ Ð¾Ð³Ñ€Ð¾Ð¼Ð½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ð½Ð°ÑÑ‚ÐµÐ½Ð½Ñ‹Ñ… Ð¸ Ð½Ð°Ð¿Ð¾Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ð¹ Ð¸ Ð°ÐºÑÐµÑÑÑƒÐ°Ñ€Ð¾Ð² Ðº Ð½Ð¸Ð¼ â€” Ð¿Ð¾Ñ€Ð¾Ð³Ð¾Ð², Ð¿Ð»Ð¸Ð½Ñ‚ÑƒÑÐ¾Ð², Ð¿Ð¾Ð´Ð»Ð¾Ð¶ÐµÐº. Ð¯ Ð¾Ñ‡ÐµÐ½ÑŒ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð½Ð° Ñ€ÐµÐ±ÑÑ‚Ð°Ð¼ Ð¸Ð· Beauty Floor Ð·Ð° Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ Ð² Ð¿Ð¾Ð´Ð±Ð¾Ñ€Ðµ Ð¿Ð°Ñ€ÐºÐµÑ‚Ð°, Ð·Ð° Ð´Ñ€ÑƒÐ¶ÐµÑÐºÐ¾Ðµ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ðµ Ð¸ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ!)",
		avatar: "/testimonial-avatars/stepanova-alena.webp",
		rating: 5,
		date: "2019-08-18",
		source: "Google",
		link: "",
	},
	{
		id: 2,
		name: "Ð“ÐµÑ€Ð° Ðš",
		content:
			"ÐŸÐ¾ÐºÑƒÐ¿Ð°Ð»Ð¸ Ð¿Ñ€Ð¾Ð±ÐºÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð», Ð²Ð¿ÐµÑ€Ð²Ñ‹Ðµ Ñ€ÐµÑˆÐ¸Ð»Ð¸ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ð°ÐºÐ¾Ðµ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ. Ð’ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ Ð½Ð°Ð¼ Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ð»Ð¸ Ð²ÑÐµ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ð¿Ð¾Ð»Ð°, Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑƒÐ±ÐµÐ´Ð¸Ð² Ð½Ð°Ñ Ð² Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð²Ñ‹Ð±Ð¾Ñ€Ð° â€” Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚, Ñ‡Ñ‚Ð¾ ÑÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½ÐµÐ¼ Ð¼Ñ‹ Ð¾Ñ‰ÑƒÑ‚Ð¸Ð¼ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ð° Ð½Ð°Ð´ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼ Ð»Ð°Ð¼Ð¸Ð½Ð°Ñ‚Ð¾Ð¼, Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾ Ð´Ð»Ñ Ð»ÑŽÐ´ÐµÐ¹ Ð² Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ðµ Ð¸ Ð´ÐµÑ‚ÐµÐ¹. Ð—Ð°ÐºÐ°Ð· Ð¿Ñ€Ð¸ÑˆÑ‘Ð» Ð² ÑÑ€Ð¾Ðº, ÐºÐ°Ðº Ð½Ð°Ð¼ Ð¸ Ð¾Ð±ÐµÑ‰Ð°Ð»Ð¸ðŸ‘ Ð•Ñ‰Ñ‘ Ð¸ Ð¾ÐºÐ°Ð·Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ÑƒÐºÐ»Ð°Ð´ÐºÐ° Ð¿Ð¾Ð»Ð° Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÑÐµÑ‚ÑÑ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð¸Ñ‚ÐµÐ»ÑÐ¼Ð¸ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð°! Ð’ Ð¾Ð±Ñ‰ÐµÐ¼ ÑÐ¾Ð²ÐµÑ‚ÑƒÐµÐ¼ ÑÑ‚Ð¾Ñ‚ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½ Ð¾Ð´Ð½Ð¾Ð·Ð½Ð°Ñ‡Ð½Ð¾ðŸ‘",
		avatar: "/testimonial-avatars/gera-k.webp",
		link: "",
		rating: 5,
		date: "2019-08-18",
		source: "Yandex",
	},
	{
		id: 3,
		name: "Maria Rayer",
		content:
			"Ð’ Ð°Ð²Ð³ÑƒÑÑ‚Ðµ 2020 Ð³Ð¾Ð´Ð° Ð¿Ð¾ÐºÑƒÐ¿Ð°Ð»Ð¸ Ð·Ð´ÐµÑÑŒ Ð»Ð°Ð¼Ð¸Ð½Ð°Ñ‚, Ð¿Ð¾Ð´Ð»Ð¾Ð¶ÐºÑƒ, Ð¿Ð»Ð¸Ð½Ñ‚ÑƒÑÑ‹. Ð’ÑÐµ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ð¾Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¾ÑÑŒ: Ð¾Ñ‚ Ð°ÑÑÐ¾Ñ€Ñ‚Ð¸Ð¼ÐµÐ½Ñ‚Ð° Ð¸ Ñ†ÐµÐ½Ð¾Ð²Ð¾Ð¹ ÑÐ¾ÑÑ‚Ð°Ð²Ð»ÑÑŽÑ‰ÐµÐ¹ Ð´Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð². Ð˜Ð· Ð²ÑÐµÑ… ÑƒÐ¿Ð°ÐºÐ¾Ð²Ð¾Ðº Ð»Ð°Ð¼Ð¸Ð½Ð°Ñ‚Ð° Ð½Ðµ Ð±Ñ‹Ð»Ð¾ Ð½Ð¸ Ð¾Ð´Ð½Ð¾Ð¹ Ð±Ñ€Ð°ÐºÐ¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð¿Ð»Ð°Ð½ÐºÐ¸. Ð”ÐµÐ»Ð°Ð»Ð¸ ÑÐ°Ð¼Ð¾Ð²Ñ‹Ð²Ð¾Ð·, Ñ‚Ð°Ðº ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ðº (Ð·Ð°Ð¼ÐµÑ‡Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸ÑÑ‚, Ð¾Ñ‡ÐµÐ½ÑŒ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾, ÑÐ¾ Ð·Ð½Ð°Ð½Ð¸ÐµÐ¼ Ð´ÐµÐ»Ð°, Ñ‚ÐµÑ€Ð¿ÐµÐ»Ð¸Ð²Ð¾ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð» Ñ‚Ð°ÐºÐ¸Ñ… Ð´Ð¾Ñ‚Ð¾ÑˆÐ½Ñ‹Ñ… Ð·Ð°Ð½ÑƒÐ´, ÐºÐ°Ðº Ð¼Ñ‹ Ñ Ð¼ÑƒÐ¶ÐµÐ¼) Ð¿Ð¾Ð¼Ð¾Ð³ Ð²ÑÐµ Ð¿Ð¾Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð² Ð¼Ð°ÑˆÐ¸Ð½Ñƒ. Ð’ ÑÐ°Ð¼Ð¾Ð¼ Ð·Ð°Ð»Ðµ ÐµÑÑ‚ÑŒ Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÐ¾Ð¹, Ð½Ð¾ ÑÐ¿Ð°ÑÐ¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð´ÐµÑ‚ÑÐºÐ¸Ð¹ ÑƒÐ³Ð¾Ð»Ð¾Ðº, Ð³Ð´Ðµ Ð½Ð°Ñˆ Ð½ÐµÐ¿Ð¾ÑÐµÐ´Ð° Ð¿Ñ€Ð¾Ð²ÐµÐ» Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸, Ð¿Ð¾ÐºÐ° Ð¼Ñ‹ Ð²Ñ‹Ð±Ð¸Ñ€Ð°Ð»Ð¸ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ. Ð’ Ð¸Ñ‚Ð¾Ð³Ðµ, ÑÑƒÐ¼Ð¼Ð° Ð·Ð°Ñ‚Ñ€Ð°Ñ‚ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ñƒ, Ð¿Ð¾Ð» ÑÐ´ÐµÐ»Ð°Ð½ Ð¸ Ñ€Ð°Ð´ÑƒÐµÑ‚ Ð¼ÐµÐ½Ñ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ) Ð²ÑÐµÐ¼ ÑÐ¾Ð²ÐµÑ‚ÑƒÑŽ)",
		avatar: "/testimonial-avatars/maria-ryayer.webp",
		link: "",
		rating: 5,
		date: "2022-05-13",
		source: "2GIS",
	},
	{
		id: 4,
		name: "ÐŸÐ°Ð²ÐµÐ» ÐÐ²Ñ…ÑƒÑ†ÐºÐ¸Ð¹",
		content:
			"Ð£ÑŽÑ‚Ð½Ð¾, Ð¼Ð½Ð¾Ð³Ð¾ Ñ‡ÐµÐ³Ð¾ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¾, Ð´ÐµÐ²ÑƒÑˆÐºÐ°-ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ð½Ñ‚ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†, Ð·Ð½Ð°ÐµÑ‚ Ð¾ Ñ‡ÐµÐ¼ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚.",
		avatar: "/testimonial-avatars/pavel-avhutskiy.webp",
		link: "",
		rating: 5,
		date: "2023-12-27",
		source: "2GIS",
	},
	{
		id: 5,
		name: "Olga Kuznetsova",
		content:
			"ÐœÐ½Ðµ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ð¾Ð½Ñ€Ð°Ð²Ð¸Ð»ÑÑ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½, Ð’Ð¡Ð ÐºÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ð¾, Ð´Ð¾ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¾ÑÐµÑ‚Ð¸Ð»Ð° Ð¼Ð½Ð¾Ð³Ð¸Ðµ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñ‹ Ð¿Ð¾ Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ðµ Ð½Ð°Ð¿Ð¾Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ð¹, Ð¿Ð¾ÑÑ‚Ð¼ Ð²ÐµÐ·Ð´Ðµ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÐµÑ‚ÑÑ Ð·Ð°Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ¾Ð²Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ñ€Ð¾Ð´Ð°Ð²Ñ†Ð¾Ð² Ð² Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ðµ, Ð° Ñ‚ÑƒÑ‚ Ð² Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ Ð½Ð° Ð ÑƒÑÑÐºÐ¾Ð¹, 78, Ð¿Ñ€Ð¾Ð´Ð°Ð²ÐµÑ† Ð•Ð»ÐµÐ½Ð° Ð¿Ð¾Ð´Ð¾ÑˆÐ»Ð° ÑÑ€Ð°Ð·Ñƒ, Ñ ÑÐºÐ°Ñ‰Ð°Ð»Ð° ,Ñ‡Ñ‚Ð¾ Ð¼Ð½Ðµ Ð½ÑƒÐ´Ð½Ð° ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ð°Ñ Ñ€Ð°ÑÑ†Ð²ÐµÑ‚ÐºÐ° Ð»Ð°Ð¼Ð¸Ð½Ð°Ñ‚Ð°, Ð¾Ð½Ð° Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶Ð¸Ð»Ð° Ð³ÐµÑ€Ð¼Ð°Ð½ÑÐºÐ¸Ð¹ Ð»Ð°Ð¼Ð¸Ð½Ð°Ñ‚ Ð´ÑƒÐ± ÐºÐ¾Ñ„ÐµÐ¹Ð½Ñ‹Ð¹ ÑÐ¾ ÑÐºÐ¸Ð´ÐºÐ¾Ð¹ , Ð¼Ð½Ðµ Ð¾Ð½ Ð¿Ð¾Ð½Ñ€Ð°Ð²Ð¸Ð»ÑÑ, Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¾Ð¹ Ð¾Ñ‡ÐµÐ½ÑŒ Ð´Ð¾Ð²Ð¾Ð»ÑŒÐ½Ð° Ð¸ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ð¿Ñ€Ð¸ÑÑ‚Ð½Ð¾, Ñ‡Ñ‚Ð¾ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ° Ð±Ñ‹Ð»Ð° Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ 3 Ñ‡Ð°ÑÐ¾Ð².ÐžÐ³Ñ€Ð¾Ð¼Ð½Ð¾Ðµ ÑÐ¿Ð°ÑÐ¸Ð±Ð¾ Ð•Ð»ÐµÐ½Ðµ, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð¼Ð¾Ð³Ð»Ð° Ñ Ð²Ñ‹Ð±Ð¾Ñ€Ð¾Ð¼, Ð¿Ñ€Ð¸ÑÑ‚Ð½Ñ‹Ð¹, Ð²ÐµÐ¶Ð»Ð¸Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð´Ð°Ð²ÐµÑ†, Ð¶ÐµÐ»Ð°ÑŽ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ñ… Ð¿Ñ€Ð¾Ð´Ð°Ð¶ Ð¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ",
		avatar: "/testimonial-avatars/olga-kuznetsova.webp",
		link: "",
		rating: 5,
		date: "2021-05-15",
		source: "Google",
	},
];

export default function TestimonialSliderSection() {
	const [emblaRef, emblaApi] = useEmblaCarousel({
		loop: true,
	});

	const {
		prevBtnDisabled,
		nextBtnDisabled,
		onPrevButtonClick,
		onNextButtonClick,
	} = usePrevNextButtons(emblaApi);

	const { selectedIndex, scrollSnaps, onDotButtonClick } =
		useDotButton(emblaApi);

	const getIconName = (source: string): "google" | "yandex" | "2gis" => {
		const sourceLower = source.toLowerCase();
		if (sourceLower === "yandex") return "yandex";
		if (sourceLower === "2gis") return "2gis";
		return "google"; // default to google
	};

	return (
		<section className="embla no-padding">
			{/* Arrow controls positioned above carousel on the right */}
			<div className="embla__controls">
				<div className="embla__buttons">
					<PrevButton onClick={onPrevButtonClick} disabled={prevBtnDisabled} />
					<NextButton onClick={onNextButtonClick} disabled={nextBtnDisabled} />
				</div>
			</div>

			<div className="embla__viewport" ref={emblaRef}>
				<div className="embla__container">
					{testimonials.map((testimonial) => (
						<div className="embla__slide" key={testimonial.id}>
							<div className="m-6">
								<div className="testimonial-card">
									<p className="mb-6 line-clamp-[20]">{testimonial.content}</p>
									<a
										href={testimonial.link}
										target="_blank"
										rel="noopener noreferrer"
										className="flex items-center group"
									>
										<div className="w-12 h-12 rounded-full mr-4 relative overflow-hidden">
											<Image
												src={testimonial.avatar}
												alt={testimonial.name}
												//fill
												className="object-cover"
												loading="eager"
											/>
										</div>
										<div className="flex items-center gap-3">
											<p className="font-semibold group-hover:underline">
												{testimonial.name}
											</p>
											{testimonial.source && (
												<Icon
													name={getIconName(testimonial.source)}
													size={24}
													className="flex-shrink-0"
												/>
											)}
										</div>
									</a>
								</div>
							</div>
						</div>
					))}
				</div>
			</div>

			{/* Dot indicators positioned below the carousel */}
			<div className="embla__dots-container">
				<div className="embla__dots">
					{scrollSnaps.map((_, index) => (
						<DotButton
							key={testimonials[index].id}
							onClick={() => onDotButtonClick(index)}
							className={"embla__dot".concat(
								index === selectedIndex ? " embla__dot--selected" : "",
							)}
						/>
					))}
				</div>
			</div>
		</section>
	);
}
